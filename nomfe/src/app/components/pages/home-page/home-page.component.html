<div class="main-layout-box">
  <mat-card class="mt-4 mb-6">
    <h2>Tìm kiếm sản phẩm</h2>
    <form
      class="search-form d-flex justify-content-between align-items-center"
      [formGroup]="searchForm"
    >
      <mat-form-field class="search-full-width" appearance="outline">
        <mat-label>Tìm kiếm</mat-label>
        <input
          matInput
          placeholder="Nhập sản phẩm cần tìm..."
          formControlName="search"
        />
      </mat-form-field>
      <button
        mat-flat-button
        color="primary"
        class="search-btn"
        (click)="onSearchProduct()"
      >
        Tìm kiếm
      </button>
    </form>
  </mat-card>

  <mat-card class="mb-5">
    <mat-card-title>Danh mục</mat-card-title>
    <mat-card-content>
      <!--List Category-->
      <div class="d-flex mt-4 mb-3">
        <div *ngFor="let item of categoryList" class="mr-5">
          <button
            mat-stroked-button
            color="primary"
            class="mr-3"
            (click)="onFilterProductByProduct(item.id)"
          >
            {{ item.name }}
          </button>
        </div>
      </div>
    </mat-card-content>
    <mat-card-footer> </mat-card-footer>
  </mat-card>

  <mat-card>
    <mat-card-title>Sản phẩm</mat-card-title>
    <mat-card-content>
      <!--List Product-->
      <div class="row mt-4" *ngIf="productList.length > 0">
        <div *ngFor="let item of productList" class="product-card col-sm mb-4">
          <mat-card>
            <img mat-card-image src="{{ item.picture }}" alt="." />
            <mat-card-content>
              <p>
                <b>
                  {{ item.name }}
                </b>
              </p>
              <div class="d-flex justify-content-between">
                <p>Đã bán: {{ item.sold_amount }}</p>
              </div>
              <mat-chip-list aria-label="category selection" class="d-flex">
                <mat-chip
                  color="primary"
                  selected
                  *ngFor="let item of item.categories"
                  >{{ item }}</mat-chip
                >
              </mat-chip-list>
            </mat-card-content>
            <mat-card-actions>
              <button mat-button [routerLink]="['/product/', item.id]">
                Xem chi tiết
              </button>
              <button mat-button>Thêm vào giỏ</button>
            </mat-card-actions>
          </mat-card>
        </div>
      </div>
      <div class="row mt-4" *ngIf="productList.length === 0">
        <p>Không có sản phẩm nào thuộc danh mục này</p>
      </div>
    </mat-card-content>
    <mat-card-footer *ngIf="productList.length !== 0"
      ><mat-paginator
        [length]="pageLength"
        [pageSize]="20"
        [pageSizeOptions]="[20]"
        aria-label="Select page"
        (page)="onProductPageChange($event)"
      >
      </mat-paginator>
    </mat-card-footer>
  </mat-card>
</div>
